# 2.1 Azure CDN을 만들어 활용하기

> [!메모]
>
> 이번 내용에서는 Azure CLI 2.0을 사용하는 시나리오가 없습니다.

## 웹 콘솔에서 Azure CDN 프로파일 만들기
1. [Azure 웹 콘솔 (https://portal.azure.com)](https://portal.azure.com)에 접속합니다.

2. 좌측 메뉴에서 **CDN 프로필**을 선택합니다.
    - 좌측 메뉴에 **CDN 프로필**이 없다면, 하단의 More Service를 선택 한 후 **cdn**을 검색하여 선택합니다.

3. **CDN 프로필** 블레이드 창이 뜨면 상단에 **+추가**버튼을 눌러서 **CDN 프로필**을 생성합니다.

4. **CDN 프로필 만들기** 블레이드 창이 뜨면 다음과 같이 입력한 후 하단에 **만들기** 버튼을 클릭하여 **CDN 프로필**을 만듭니다.
    - `이름`: 표시 될 CDN 프로필의 이름을 입력합니다.
    - `구독`: CDN 프로필을 생성할 **구독**을 선택합니다.
    - `리소스 그룹`: CDN 프로필을 생성할 **리소스 그룹**을 선택합니다.
    - `리소스 그룹 위치`: CDN 프로필을 생성할 **지역**을 선택합니다.
    - `가격 책정 계층`: CDN 프로필의 **종류**를 선택합니다. 여기서는 **표준 Verizon**을 선택합니다.

5. **CDN 프로필**이 생성되면 **CDN 프로필** 블레이드 창에서 상단에 **새로 고침**을 클릭하여 생성된 **CDN 프로필**을 클릭합니다.

6. 생성된 **CDN 프로필** 블레이드 창이 뜨면 상단에 **끝점** 버튼을 클릭합니다.

7. **끝점 추가** 블레이드 창이 뜨면 다음과 같이 입력한 후 하단에 **추가** 버튼을 클릭하여 **끝점**을 추가합니다.
    - `이름`: 표시 될 끝점의 이름을 입력합니다. 입력된 이름 뒤에 **.azureedge.net**이 붙은 도메인이 생성됩니다.
    - `원본 형식`: 원본이 어떤 형식인지 선택합니다. 여기서는 **저장소**를 선택합니다.
    - `원본 호스트 이름`: 원본 호스트를 선택합니다. 여기서는 [1.5 저장소 계정으로 정적 웹사이트 만들기](https://github.com/krazure/hands-on-lab/blob/master/1.5%20%EC%A0%80%EC%9E%A5%EC%86%8C%20%EA%B3%84%EC%A0%95%EC%9C%BC%EB%A1%9C%20%EC%A0%95%EC%A0%81%20%EC%9B%B9%EC%82%AC%EC%9D%B4%ED%8A%B8%20%EB%A7%8C%EB%93%A4%EA%B8%B0.md)에서 활용했던 **저장소 계정**을 선택합니다.
    - `원본 경로`: Domain을 제외한 원본의 경로를 입력합니다. 여기서는 **저장소 계정**의 **컨테이너**이름을 확인하여 다음과 같이 입력합니다 **/컨테이너 이름**
    - `원본 호스트 헤더`: 원본 호스트 헤더 값을 입력합니다. 여기서는 기본 값을 그대로 사용하겠습니다.
    - `프로토콜`: CDN 프로필에서 사용 할 프로토콜을 선택합니다. 여기서는 기본 값을 그대로 사용하겠습니다.
    - `원본 포트`: 원본 호스트의 포트를 입력합니다. 여기서는 기본 값을 그대로 사용하겠습니다.

        > [!메모]
        >
        > 끝점이 만들어 지더라도 실제 컨텐츠가 배호되는데에는 약 1시간 이상 걸릴 수 있습니다.

8. **끝점**이 생성되면 중간에 **끝점**메뉴에서 생성된 **끝점**을 클릭합니다.

9. 생성된 **끝점**의 블레이드 창이 뜨면 오른쪽에 **끝점 호스트 이름**을 복사합니다.

10. 새로운 웹 브라우저를 띄운 후 `F12`를 눌러 개발자 모드를 실행합니다.

11. `9번`에서 복사된 URL 주소창에 입력하고 뒤에 **/index.html**을 추가로 입력하여 접속한 후 개발자 모드의 Network 탭에서 `index.html` 파일의 코드가 `304`가 뜨는지 확인합니다.

12. Ctrl+F5 키를 눌러 브라우저 캐시를 무시하고 새로고침을 하였을 때 `index.html` 파일의 코드가 `200`이 뜨는지 확인합니다.
